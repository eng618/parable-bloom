version: '3'

tasks:
  android:deploy:
    desc: Deploy Android to Google Play (Internal Testing) via Fastlane
    dir: android
    cmds:
      - fastlane deploy

  android:beta:
    desc: Deploy Android to Google Play Beta Track via Fastlane
    dir: android
    cmds:
      - fastlane beta

  android:build:
    desc: Build Android release bundle via Fastlane (no upload)
    dir: android
    cmds:
      - fastlane build_release

  android:validate:
    desc: Validate Android bundle and credentials
    dir: android
    cmds:
      - fastlane validate

  ios:beta:
    desc: Deploy iOS to TestFlight via Fastlane
    platforms: [darwin]
    dir: ios
    cmds:
      - fastlane beta

  ios:release:
    desc: Deploy iOS to App Store via Fastlane
    platforms: [darwin]
    dir: ios
    cmds:
      - fastlane release

  ios:build:
    desc: Build iOS IPA via Fastlane (no upload)
    platforms: [darwin]
    dir: ios
    cmds:
      - fastlane build_release

  ios:validate:
    desc: Validate iOS credentials and configuration
    platforms: [darwin]
    dir: ios
    cmds:
      - fastlane validate

  ios:setup:
    desc: Setup iOS keychain for CI
    platforms: [darwin]
    dir: ios
    cmds:
      - fastlane setup_keychain

  ios:cleanup:
    desc: Clean up iOS CI artifacts
    platforms: [darwin]
    dir: ios
    cmds:
      - fastlane cleanup
